(this.webpackJsonpstateherdimmunity=this.webpackJsonpstateherdimmunity||[]).push([[0],{102:function(t,e,n){},103:function(t,e,n){},109:function(t,e,n){},110:function(t,e,n){},111:function(t,e,n){},114:function(t,e,n){},115:function(t,e,n){},120:function(t,e,n){"use strict";n.r(e);var a=n(2),i=n(0),o=n.n(i),c=n(31),s=n.n(c),r=(n(82),n(15)),d=n.n(r),l=n(18),u=n(62),h=n(17),b=n(63),j=n.n(b),p=(n(102),n(103),n(148)),m=n(149),f=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{id:"dummy-header"}),Object(a.jsxs)(p.a,{id:"navbar",variant:"dark",expand:"lg",className:"fixed-top navbar-expand",children:[Object(a.jsx)(p.a.Brand,{id:"title",children:"COVID-19 Herd Immunity Projections"}),Object(a.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(a.jsx)(p.a.Collapse,{id:"basic-navbar-nav",children:Object(a.jsxs)(m.a,{className:"ml-auto",id:"tabs",children:[Object(a.jsx)(m.a.Link,{href:"#map-container",children:"Map"}),Object(a.jsx)(m.a.Link,{href:"#methods",children:"Methods"})]})})]})]})},O=(n(109),n(51)),x=function(){return Object(a.jsx)(O.a,{fluid:"true",id:"methods-container",children:Object(a.jsx)(O.a,{id:"text-container",children:Object(a.jsxs)("div",{id:"text",children:[Object(a.jsx)("h1",{children:"Methods"}),Object(a.jsxs)("p",{children:["The point of this project was to showcase my skills using React and various libraries. As such, the math behind the projections is not too complicated and should not be used as a point of reference to see when herd immunity will actually be achieved. We assume herd immunity is reached at 70% of the population (",Object(a.jsx)("a",{href:"https://www.who.int/news-room/q-a-detail/herd-immunity-lockdowns-and-covid-19",target:"_blank",rel:"noopener noreferrer",style:{color:"black",fontWeight:"bold"},children:"the real percentage is unknown"}),")."]}),Object(a.jsx)("p",{children:"Our herd immunity population size is the total population * .7. We subtract from this number the amount of people who have already been vaccinated. Then we see how many people have been vaccinated in the last week. We calculate how many weeks it would take to reach the herd immunity population size if we continued at the same rate as last week. The 95% success rate of the vaccine is accounted for by assuming that 5% of the recorded vaccines will not have any effect upon the date."}),Object(a.jsx)("h3",{children:"Potential Problems With Method"}),Object(a.jsx)("p",{children:"According to the CDC, reinfections are possible but rare. Given that it is still relatively early into the pandemic I don't feel comfortable assuming that anybody who has contracted COVID-19 will gain immunity to the disease. Therefore I have chosen to assume that the only way to gain immunity against the disease is to get the vaccine. This could be a problem because it could be true that reinfections help gain progress towards herd immunity, but as of right now there's simply no way to know how much progress that is."})]})})})},v=(n(110),function(){return Object(a.jsx)(p.a,{id:"footer",variant:"dark",expand:"lg",className:"navbar-expand",children:Object(a.jsx)("div",{children:"\xa9 2021 Alperen Yildiz"})})}),g=n(142),y=n(47),w=(n(111),function(t){return Object(a.jsxs)("div",{id:"map-container",children:[Object(a.jsx)("div",{id:"message",children:t.showMap?"Hover over a state to see projected herd immunity date.":"Click on header titles to sort by attributes."}),Object(a.jsx)("div",{id:"toggle-table",children:Object(a.jsx)(g.a,{id:"btn",style:{backgroundColor:"#2c3e50",color:"white"},onClick:t.buttonClick,children:t.showMap?"View Table":"View Map"})}),t.showMap?Object(a.jsx)(y.ComposableMap,{id:"map","data-tip":"",projection:"geoAlbersUsa",children:Object(a.jsx)(y.Geographies,{geography:"https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json",children:function(e){return e.geographies.map((function(e){return Object(a.jsx)(y.Geography,{geography:e,onMouseEnter:function(){t.setTooltipContent(e.properties.name)},onMouseLeave:function(){t.setTooltipContent("")},style:{default:{fill:"#c46210",outline:"none",stroke:"black",strokeWidth:.5},hover:{fill:"#660000",outline:"none"},pressed:{fill:"#800020",outline:"none"}}},e.rsmKey)}))}})}):""]})}),k=n(71),C=n(143),D=n(150),M=n(146),N=n(151),T=n(147),A=["Texas","Florida","Ohio","North Carolina","Indiana","Tennessee","Missouri","Alabama","South Carolina","Kentucky","Louisiana","Oklahoma","Mississippi","Iowa","Arkansas","Kansas","Utah","West Virginia","Idaho","Nebraska","Alaska","Montana","North Dakota","South Dakota","Wyoming","Maine"],W=function(t){var e=Math.round(.95*t["doses-number"]),n=t.population,a=Math.round(.95*t["v-diff-7"]);if(0===Number(a)){var i=new Date("December 21, 2020");a=e/function(t,e){var n=(t.getTime()-e.getTime())/1e3;return n/=604800,Math.abs(Math.round(n))}(new Date,i)}var o=(.7*Number(n.replace(/,/g,""))-e)/a,c=new Date;c.setDate(c.getDate()+7*o);var s=["January","February","March","April","May","June","July","August","September","October","November","December"][c.getMonth()],r=c.getDay()+1,d=c.getFullYear();return d<2021?{date:c,stringDate:"Not enough data."}:{date:c,stringDate:s+" "+r+", "+d}},S=Object(C.a)({root:{minWidth:275,maxWidth:300,backgroundColor:"white",color:"black"},title:{fontSize:28,textAlign:"center",fontWeight:"bold",color:"white"},pos:{marginBottom:12},info:{fontSize:16,textAlign:"center"},statsContainer:{marginTop:12},stat:{textAlign:"center",display:"flex",flexDirection:"column"}});function z(t){var e,n,i=S();return Object(a.jsx)(D.a,{className:i.root,variant:"outlined",children:Object(a.jsxs)(M.a,{children:[Object(a.jsx)(N.a,{className:i.title,gutterBottom:!0,style:{backgroundColor:(n=t.content,A.includes(n)?"#AA0000":"#00308F")},children:t.content}),Object(a.jsxs)(N.a,{className:i.info,variant:"h5",component:"h2",children:[t.content," is expected to achieve herd immunity around ",W(t.immunizationData).stringDate]}),Object(a.jsxs)(T.a,{container:!0,spacing:3,className:i.statsContainer,children:[Object(a.jsx)(T.a,{item:!0,xs:6,className:i.stat,children:Object(a.jsxs)(N.a,{component:"h3",style:{fontWeight:"bold"},children:["Vaccinated ",(e=t.immunizationData["doses-number"],e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))]})}),Object(a.jsx)(T.a,{item:!0,xs:6,className:i.stat,children:Object(a.jsxs)(N.a,{component:"h3",style:{maxWidth:100,fontWeight:"bold"},children:["Population ",t.immunizationData.population]})}),Object(a.jsxs)(T.a,{item:!0,xs:12,className:i.stat,children:[Object(a.jsx)(N.a,{component:"h3",style:{fontWeight:"bold"},children:"Percent Vaccinated"}),Object(a.jsx)(N.a,{component:"h3",style:{fontWeight:"bold"},children:t.immunizationData["pct-vaccinated"]})]})]})]})})}n(114);var I=function(t){return Object(a.jsx)("div",{id:"parent",children:function(e,n){if(e)return Object(a.jsx)("div",{className:"customTooltip",children:Object(a.jsx)(k.a,{className:"tooltip",children:Object(a.jsx)(z,{content:t.content,immunizationData:n})})})}(t.content,function(e){if(e)return t.data.filter((function(t){return t.state===e}))[0]}(t.content))})},P=(n(115),function(t){return Number(t.replace(/,/g,""))}),V=function(t){var e=Object(i.useState)([]),n=Object(h.a)(e,2),o=n[0],c=n[1],s=Object(i.useState)({states:!0,vaccinations:!1,population:!1,percent:!1,date:!1}),r=Object(h.a)(s,2),d=r[0],u=r[1],b=["State","Vaccinations","Population","Pct. Vaccinated","Projected Date"];Object(i.useEffect)((function(){c(t.data)}),[t.data]);var j=function(t,e){c(e?Object(l.a)(o).sort((function(e,n){return P(n[t])-P(e[t])})):Object(l.a)(o).sort((function(e,n){return-1*P(n[t])-P(e[t])})))},p=function(t){var e=t["doses-number"]/P(t.population);return(100*parseFloat(e)).toFixed(2)+"%"};return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{id:"table-container",children:Object(a.jsxs)("table",{id:"data-table",children:[Object(a.jsx)("thead",{children:Object(a.jsx)("tr",{children:b.map((function(t,e){return Object(a.jsx)("th",{onClick:function(){!function(t){switch(t){case b[1]:j("doses-number",!d.vaccinations),u({states:!1,vaccinations:!d.vaccinations,population:!1,percent:!1,date:!1});break;case b[2]:j("population",!d.population),u({states:!1,vaccinations:!1,population:!u.population,percent:!1,date:!1});break;case b[3]:j("vaccinated",!d.percent),u({states:!1,vaccinations:!1,population:!1,percent:!0,date:!1});break;case b[4]:d.date?(c(Object(l.a)(o).sort((function(t,e){return-1*(W(e).date-W(t).date)}))),u({states:!1,vaccinations:!1,population:!1,percent:!1,date:!1})):(c(Object(l.a)(o).sort((function(t,e){return W(e).date-W(t).date}))),u({states:!1,vaccinations:!1,population:!1,percent:!1,date:!0}));break;default:d.states?(c(Object(l.a)(o).sort((function(t,e){var n=t.state.toUpperCase(),a=e.state.toUpperCase();return n>a?-1:n<a?1:0}))),u({states:!1,vaccinations:!1,population:!1,percent:!1,date:!1})):(c(Object(l.a)(o).sort((function(t,e){var n=t.state.toUpperCase(),a=e.state.toUpperCase();return n<a?-1:n>a?1:0}))),u({states:!0,vaccinations:!1,population:!1,percent:!1,date:!1}))}}(t)},children:Object(a.jsx)("div",{className:"header-item",children:t})},e)}))})}),Object(a.jsx)("tbody",{children:Object.keys(o).map((function(t,e){var n,i=o[t];return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:i.state}),Object(a.jsx)("td",{children:(n=i["doses-number"],n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))}),Object(a.jsx)("td",{children:i.population}),Object(a.jsx)("td",{children:p(i)}),Object(a.jsx)("td",{children:W(i).stringDate})]},e)}))})]})})})},B=function(t){var e=Object(i.useState)(!1),n=Object(h.a)(e,2),o=n[0],c=n[1];return Object(a.jsxs)("div",{id:"vis-container",children:[t.loading?"":Object(a.jsxs)("div",{children:[Object(a.jsx)(w,{setTooltipContent:t.setContent,buttonClick:function(){c(!o)},showMap:!o}),Object(a.jsx)(I,{data:t.data,content:t.content})]}),o?Object(a.jsx)(V,{data:t.data}):""]})},F=n(70),E=n.n(F);window.onscroll=function(){document.body.scrollTop>30||document.documentElement.scrollTop>30?document.getElementById("navbar").style.padding="5px 10px":document.getElementById("navbar").style.padding="30px 10px"};var U=function(){var t=Object(i.useState)(""),e=Object(h.a)(t,2),n=e[0],o=e[1],c=Object(i.useState)([]),s=Object(h.a)(c,2),r=s[0],b=s[1],p=Object(i.useState)(!0),m=Object(h.a)(p,2),O=m[0],g=m[1];return Object(i.useEffect)((function(){g(!0),function(){var t=Object(u.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get(E.a.immunizationDataAPI);case 2:e=t.sent,b(Object(l.a)(e.data)),g(!1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[]),Object(a.jsxs)("div",{id:"app",children:[Object(a.jsx)(f,{}),Object(a.jsx)(B,{setContent:o,loading:O,data:r,content:n}),Object(a.jsx)("div",{id:"methods",children:Object(a.jsx)(x,{})}),Object(a.jsx)(v,{})]})};n(116);s.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(U,{})}),document.getElementById("root"))},70:function(t,e){t.exports={immunizationDataAPI:"https://dataviz.nbcnews.com/projects/20201221-plan-your-shot-map/data/plan-your-shot.json"}},82:function(t,e,n){}},[[120,1,2]]]);
//# sourceMappingURL=main.e3aa3ddb.chunk.js.map